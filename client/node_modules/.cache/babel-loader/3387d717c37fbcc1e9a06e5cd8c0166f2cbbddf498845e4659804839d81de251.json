{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\glend\\\\Documents\\\\DV200\\\\KWARTAAL 4\\\\Whirlpool\\\\client\\\\src\\\\pages\\\\profile.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport BasicNav from '../components/navbar';\nimport './css/profile.css';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\nimport PreviousQuestions from \"../components/previousQuestions\";\nimport Footer from \"../components/footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Profile() {\n  _s();\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\n  const imgUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001';\n  const [imageName, setImageName] = useState(\"Name of file\");\n  const [userImage, setUserImage] = useState();\n  const [userPic, setUserPic] = useState(\"../assets/user.png\");\n  const userMail = sessionStorage.getItem(\"username\");\n  const [userData, setUserData] = useState();\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [editData, setEditData] = useState({\n    firstName: '',\n    lastName: '',\n    email: ''\n  });\n\n  // gets the image of the user\n  useEffect(() => {\n    if (userMail) {\n      axios.get(`${apiUrl}/singleUser/` + userMail).then(res => {\n        let data = res.data;\n        setUserData(data);\n        console.log(JSON.stringify(data.profilePic));\n        setUserPic(`${imgUrl}/userImages/` + data.profilePic);\n      }).catch(err => console.log(err));\n    }\n  }, [userMail]);\n  const getImage = e => {\n    let imagefile = e.target.files[0];\n    setUserImage(imagefile);\n    let value = e.target.value;\n    let imageName = value.substring(12);\n    setImageName(imageName);\n    let reader = new FileReader();\n    reader.onload = () => {\n      let output = document.getElementById('imgPrev');\n      output.src = reader.result;\n    };\n    reader.readAsDataURL(e.target.files[0]);\n  };\n\n  // Image upload handling\n  const changeImg = e => {\n    e.preventDefault();\n    const payloadData = new FormData();\n    // const fileName = userImage.name; // Extract the file name\n\n    let payload = {\n      name: userData.name,\n      title: userData.title,\n      question: userData.question,\n      tags: {\n        tagOne: userData.tagOne,\n        tagTwo: userData.tagTwo,\n        tagThree: userData.tagThree\n      },\n      votes: {\n        total: userData.total,\n        likes: userData.likes,\n        dislikes: userData.dislikes\n      }\n    };\n    payloadData.append(\"information\", JSON.stringify(payload));\n    payloadData.append('image', userImage); // Append the file with the name to FormData\n\n    axios.put(\"http://localhost:5001/api/users/profilePic/\" + userMail, payloadData).then(res => {\n      if (res) {\n        console.log(\"Item Added\");\n        window.location = \"/profile\";\n      }\n    }).catch(err => console.log(err));\n  };\n  const handleEdit = () => {\n    setShowModal(true);\n    setEditData({\n      firstName: userData === null || userData === void 0 ? void 0 : userData.firstName,\n      lastName: userData === null || userData === void 0 ? void 0 : userData.lastName,\n      email: userData === null || userData === void 0 ? void 0 : userData.email\n    });\n  };\n  const handleInputChange = event => {\n    setEditData({\n      ...editData,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  // edit the users info\n  const handleSave = () => {\n    axios.put(`http://localhost:5001/api/updateUser/${userMail}`, editData).then(res => {\n      setUserData(res.data);\n      setShowModal(false);\n    }).catch(err => console.log(err));\n  };\n\n  // Delete account\n  let navigate = useNavigate();\n  const handleDeleteAccount = () => {\n    setShowConfirm(true);\n  };\n  const confirmDeleteAccount = () => {\n    axios.delete(`http://localhost:5001/api/deleteUser/${userMail}`).then(response => {\n      console.log(\"User account deletedcessfully\");\n      navigate('/login');\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"daBigOne\",\n    style: {\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(BasicNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      id: \"bababooie\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" Your profile: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row gutters-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardEspesiale\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex flex-column align-items-center text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: userPic,\n                    alt: \"User\",\n                    className: \"rounded-circle\",\n                    width: \"150\",\n                    height: \"150px\",\n                    style: {\n                      marginTop: \"5%\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: userData === null || userData === void 0 ? void 0 : userData.firstName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"mb-0\",\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-9 text-secondary\",\n                    children: userData === null || userData === void 0 ? void 0 : userData.firstName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"mb-0\",\n                      children: \"Surname\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-9 text-secondary\",\n                    children: userData === null || userData === void 0 ? void 0 : userData.lastName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"mb-0\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-9 text-secondary\",\n                    children: userData === null || userData === void 0 ? void 0 : userData.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-12\",\n                    children: [/*#__PURE__*/_jsxDEV(Form, {\n                      onSubmit: changeImg,\n                      style: {\n                        marginTop: \"2%\",\n                        marginLeft: \"auto\",\n                        marginRight: \"auto\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                        controlId: \"formFile\",\n                        className: \"mb-3\",\n                        style: {\n                          display: \"inline-block\",\n                          width: \"100%\"\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                          type: \"file\",\n                          style: {\n                            marginBottom: \"2%\"\n                          },\n                          onChange: getImage\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 210,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: imageName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 212,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 211,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            id: \"imgPrev\",\n                            style: {\n                              backgroundColor: \"lightgrey\",\n                              height: \"200px\",\n                              width: \"200px\",\n                              float: \"left\"\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 215,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 214,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"primary\",\n                        type: \"submit\",\n                        style: {\n                          color: \"black\",\n                          width: \"100%\",\n                          marginTop: \"2%\",\n                          marginBottom: \"2%\",\n                          backgroundColor: \"#FDF5BF\"\n                        },\n                        children: \"Upload image\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: handleEdit,\n                      variant: \"warning\",\n                      type: \"submit\",\n                      style: {\n                        color: \"black\",\n                        width: \"100%\",\n                        marginTop: \"2%\",\n                        marginBottom: \"2%\",\n                        backgroundColor: \"#FDF5BF\"\n                      },\n                      children: \"Edit Info\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                      show: showModal,\n                      onHide: () => setShowModal(false),\n                      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                        closeButton: true,\n                        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                          children: \"Edit Info\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 227,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 226,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                        children: /*#__PURE__*/_jsxDEV(Form, {\n                          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                              children: \"First Name\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 232,\n                              columnNumber: 61\n                            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                              type: \"text\",\n                              name: \"firstName\",\n                              value: editData.firstName,\n                              onChange: handleInputChange\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 233,\n                              columnNumber: 61\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 231,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                              children: \"Last Name\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 236,\n                              columnNumber: 61\n                            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                              type: \"text\",\n                              name: \"lastName\",\n                              value: editData.lastName,\n                              onChange: handleInputChange\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 237,\n                              columnNumber: 61\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 235,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                              children: \"Email\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 240,\n                              columnNumber: 61\n                            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                              type: \"email\",\n                              name: \"email\",\n                              value: editData.email,\n                              onChange: handleInputChange\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 241,\n                              columnNumber: 61\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 239,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 230,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 229,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"secondary\",\n                          onClick: () => setShowModal(false),\n                          children: \"Close\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 246,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"primary\",\n                          onClick: handleSave,\n                          children: \"Save Changes\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 247,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 245,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: handleDeleteAccount,\n                      variant: \"warning\",\n                      type: \"submit\",\n                      style: {\n                        color: \"black\",\n                        width: \"100%\",\n                        marginTop: \"2%\",\n                        marginBottom: \"2%\",\n                        backgroundColor: \"#FDF5BF\"\n                      },\n                      children: \"Delete Account\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                      show: showConfirm,\n                      onHide: () => setShowConfirm(false),\n                      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                        closeButton: true,\n                        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                          children: \"Confirm Account Deletion\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 257,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 256,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                        children: \"Are you sure you want to delete your account?\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 259,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                        children: [/*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"secondary\",\n                          onClick: () => setShowConfirm(false),\n                          children: \"Cancel\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 261,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(Button, {\n                          variant: \"danger\",\n                          onClick: confirmDeleteAccount,\n                          children: \"Delete Account\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 264,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"relative\"\n      },\n      children: /*#__PURE__*/_jsxDEV(PreviousQuestions, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      style: {\n        marginTop: \"50%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }, this);\n}\n_s(Profile, \"4z5D1hoPk2cGt3ViHsYHMn3Qxdc=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","BasicNav","Form","Button","Modal","useState","useEffect","axios","useNavigate","PreviousQuestions","Footer","jsxDEV","_jsxDEV","Profile","_s","apiUrl","process","env","REACT_APP_API_URL","imgUrl","imageName","setImageName","userImage","setUserImage","userPic","setUserPic","userMail","sessionStorage","getItem","userData","setUserData","showConfirm","setShowConfirm","showModal","setShowModal","editData","setEditData","firstName","lastName","email","get","then","res","data","console","log","JSON","stringify","profilePic","catch","err","getImage","e","imagefile","target","files","value","substring","reader","FileReader","onload","output","document","getElementById","src","result","readAsDataURL","changeImg","preventDefault","payloadData","FormData","payload","name","title","question","tags","tagOne","tagTwo","tagThree","votes","total","likes","dislikes","append","put","window","location","handleEdit","handleInputChange","event","handleSave","navigate","handleDeleteAccount","confirmDeleteAccount","delete","response","error","id","style","position","children","fileName","_jsxFileName","lineNumber","columnNumber","className","alt","width","height","marginTop","onSubmit","marginLeft","marginRight","Group","controlId","display","Control","type","marginBottom","onChange","backgroundColor","float","variant","color","onClick","show","onHide","Header","closeButton","Title","Body","Label","_c","$RefreshReg$"],"sources":["C:/Users/glend/Documents/DV200/KWARTAAL 4/Whirlpool/client/src/pages/profile.js"],"sourcesContent":["import React from \"react\";\r\nimport BasicNav from '../components/navbar';\r\nimport './css/profile.css';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PreviousQuestions from \"../components/previousQuestions\";\r\nimport Footer from \"../components/footer\";\r\n\r\nfunction Profile() {\r\n\r\n    const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';\r\n    const imgUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001';\r\n\r\n\r\n    const [imageName, setImageName] = useState(\"Name of file\")\r\n    const [userImage, setUserImage] = useState()\r\n\r\n    const [userPic, setUserPic] = useState(\"../assets/user.png\")\r\n\r\n    const userMail = sessionStorage.getItem(\"username\")\r\n    const [userData, setUserData] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [editData, setEditData] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: ''\r\n    });\r\n\r\n    // gets the image of the user\r\n    useEffect(() => {\r\n        if (userMail) {\r\n            axios.get(`${apiUrl}/singleUser/` + userMail)\r\n                .then(res => {\r\n                    let data = res.data;\r\n                    setUserData(data);\r\n                    console.log(JSON.stringify(data.profilePic));\r\n\r\n                    setUserPic(`${imgUrl}/userImages/` + data.profilePic)\r\n\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }, [userMail])\r\n\r\n    const getImage = (e) => {\r\n        let imagefile = e.target.files[0];\r\n        setUserImage(imagefile);\r\n\r\n        let value = e.target.value;\r\n        let imageName = value.substring(12);\r\n        setImageName(imageName);\r\n\r\n        let reader = new FileReader();\r\n        reader.onload = () => {\r\n            let output = document.getElementById('imgPrev');\r\n            output.src = reader.result;\r\n        }\r\n\r\n        reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n\r\n    // Image upload handling\r\n    const changeImg = (e) => {\r\n        e.preventDefault();\r\n\r\n        const payloadData = new FormData();\r\n        // const fileName = userImage.name; // Extract the file name\r\n\r\n        let payload = {\r\n            name: userData.name,\r\n            title: userData.title,\r\n            question: userData.question,\r\n            tags: {\r\n                tagOne: userData.tagOne,\r\n                tagTwo: userData.tagTwo,\r\n                tagThree: userData.tagThree\r\n            },\r\n            votes: {\r\n                total: userData.total,\r\n                likes: userData.likes,\r\n                dislikes: userData.dislikes\r\n            }\r\n        }\r\n\r\n        payloadData.append(\"information\", JSON.stringify(payload));\r\n        payloadData.append('image', userImage); // Append the file with the name to FormData\r\n\r\n        axios.put(\"http://localhost:5001/api/users/profilePic/\" + userMail, payloadData)\r\n            .then((res) => {\r\n                if (res) {\r\n                    console.log(\"Item Added\");\r\n                    window.location = \"/profile\";\r\n                }\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const handleEdit = () => {\r\n        setShowModal(true);\r\n        setEditData({\r\n            firstName: userData?.firstName,\r\n            lastName: userData?.lastName,\r\n            email: userData?.email\r\n        });\r\n    }\r\n\r\n    const handleInputChange = (event) => {\r\n        setEditData({\r\n            ...editData,\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    // edit the users info\r\n    const handleSave = () => {\r\n        axios.put(`http://localhost:5001/api/updateUser/${userMail}`, editData)\r\n            .then(res => {\r\n                setUserData(res.data);\r\n                setShowModal(false);\r\n            })\r\n            .catch(err => console.log(err));\r\n    };\r\n\r\n    // Delete account\r\n    let navigate = useNavigate();\r\n\r\n    const handleDeleteAccount = () => {\r\n        setShowConfirm(true);\r\n    };\r\n\r\n    const confirmDeleteAccount = () => {\r\n        axios.delete(`http://localhost:5001/api/deleteUser/${userMail}`)\r\n            .then((response) => {\r\n                console.log(\"User account deletedcessfully\");\r\n                navigate('/login');\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div id=\"daBigOne\" style={{position: \"relative\"}}>\r\n\r\n            <BasicNav />\r\n\r\n            {/* Profile front end provided by bootdey for free use */}\r\n            {/* Code was still tweaked and edited by us of course */}\r\n\r\n            <div className=\"container\" id=\"bababooie\" >\r\n                <div className=\"main-body\">\r\n                    <h1> Your profile: </h1>\r\n                    <div className=\"row gutters-sm\">\r\n                        <div className=\"col-md-4 mb-3\">\r\n                            <div className=\"cardEspesiale\">\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"d-flex flex-column align-items-center text-center\">\r\n                                        <img\r\n                                            src={userPic}\r\n                                            alt=\"User\" className=\"rounded-circle\" width=\"150\" height=\"150px\" style={{ marginTop: \"5%\" }} />\r\n                                        <div className=\"mt-3\">\r\n                                            <h4>\r\n                                                {userData?.firstName}\r\n                                            </h4>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-8\">\r\n                            <div className=\"card mb-3\">\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-sm-3\">\r\n                                            <h6 className=\"mb-0\">Name</h6>\r\n                                        </div>\r\n                                        <div className=\"col-sm-9 text-secondary\">\r\n                                            {userData?.firstName}\r\n                                        </div>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-sm-3\">\r\n                                            <h6 className=\"mb-0\">Surname</h6>\r\n                                        </div>\r\n                                        <div className=\"col-sm-9 text-secondary\">\r\n                                            {userData?.lastName}\r\n                                        </div>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-sm-3\">\r\n                                            <h6 className=\"mb-0\">Email</h6>\r\n                                        </div>\r\n                                        <div className=\"col-sm-9 text-secondary\">\r\n                                            {userData?.email}\r\n                                        </div>\r\n                                    </div>\r\n                                    <hr />\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-sm-12\">\r\n                                            <Form onSubmit={changeImg} style={{ marginTop: \"2%\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n                                                <Form.Group controlId=\"formFile\" className=\"mb-3\" style={{ display: \"inline-block\", width: \"100%\" }}>\r\n                                                    <Form.Control type=\"file\" style={{ marginBottom: \"2%\" }} onChange={getImage} />\r\n                                                    <div>\r\n                                                        <p>{imageName}</p>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <img id=\"imgPrev\" style={{ backgroundColor: \"lightgrey\", height: \"200px\", width: \"200px\", float: \"left\" }} />\r\n                                                    </div>\r\n                                                </Form.Group >\r\n                                                <Button variant=\"primary\" type=\"submit\" style={{ color: \"black\", width: \"100%\", marginTop: \"2%\", marginBottom: \"2%\", backgroundColor: \"#FDF5BF\" }}>\r\n                                                    Upload image\r\n                                                </Button>\r\n                                            </Form>\r\n                                            <Button onClick={handleEdit} variant=\"warning\" type=\"submit\" style={{ color: \"black\", width: \"100%\", marginTop: \"2%\", marginBottom: \"2%\", backgroundColor: \"#FDF5BF\" }}>\r\n                                                Edit Info\r\n                                            </Button>\r\n                                            <Modal show={showModal} onHide={() => setShowModal(false)}>\r\n                                                <Modal.Header closeButton>\r\n                                                    <Modal.Title>Edit Info</Modal.Title>\r\n                                                </Modal.Header>\r\n                                                <Modal.Body>\r\n                                                    <Form>\r\n                                                        <Form.Group>\r\n                                                            <Form.Label>First Name</Form.Label>\r\n                                                            <Form.Control type=\"text\" name=\"firstName\" value={editData.firstName} onChange={handleInputChange} />\r\n                                                        </Form.Group>\r\n                                                        <Form.Group>\r\n                                                            <Form.Label>Last Name</Form.Label>\r\n                                                            <Form.Control type=\"text\" name=\"lastName\" value={editData.lastName} onChange={handleInputChange} />\r\n                                                        </Form.Group>\r\n                                                        <Form.Group>\r\n                                                            <Form.Label>Email</Form.Label>\r\n                                                            <Form.Control type=\"email\" name=\"email\" value={editData.email} onChange={handleInputChange} />\r\n                                                        </Form.Group>\r\n                                                    </Form>\r\n                                                </Modal.Body>\r\n                                                <Modal.Footer>\r\n                                                    <Button variant=\"secondary\" onClick={() => setShowModal(false)}>Close</Button>\r\n                                                    <Button variant=\"primary\" onClick={handleSave}>Save Changes</Button>\r\n                                                </Modal.Footer>\r\n                                            </Modal>\r\n\r\n                                            <Button onClick={handleDeleteAccount} variant=\"warning\" type=\"submit\" style={{ color: \"black\", width: \"100%\", marginTop: \"2%\", marginBottom: \"2%\", backgroundColor: \"#FDF5BF\" }}>\r\n                                                Delete Account\r\n                                            </Button>\r\n\r\n                                            <Modal show={showConfirm} onHide={() => setShowConfirm(false)}>\r\n                                                <Modal.Header closeButton>\r\n                                                    <Modal.Title>Confirm Account Deletion</Modal.Title>\r\n                                                </Modal.Header>\r\n                                                <Modal.Body>Are you sure you want to delete your account?</Modal.Body>\r\n                                                <Modal.Footer>\r\n                                                    <Button variant=\"secondary\" onClick={() => setShowConfirm(false)}>\r\n                                                        Cancel\r\n                                                    </Button>\r\n                                                    <Button variant=\"danger\" onClick={confirmDeleteAccount} >\r\n                                                        Delete Account\r\n                                                    </Button>\r\n                                                </Modal.Footer>\r\n                                            </Modal>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div style={{position: \"relative\"}}>\r\n                {/* previously asked questions */}\r\n                <PreviousQuestions />\r\n            </div>\r\n\r\n            <Footer style={{marginTop: \"50%\"}}/>\r\n\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}