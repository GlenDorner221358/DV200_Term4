{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\glend\\\\Documents\\\\DV200\\\\KWARTAAL 4\\\\Whirlpool\\\\client\\\\src\\\\components\\\\commentcard.js\",\n  _s = $RefreshSig$();\nimport Card from 'react-bootstrap/Card';\nimport Figure from 'react-bootstrap/Figure';\nimport LikeImage from '../icons/thumbs-up.svg';\nimport LikedImage from '../icons/thumbs-up-fill.svg';\nimport { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\nimport styles from '../pages/css/single.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SingleComment() {\n  _s();\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001/api/';\n  const question = JSON.parse(sessionStorage.getItem(\"question\"));\n  const queTitle = question.title;\n  const [comments, setComments] = useState([]);\n  const [isLiked, setIsLiked] = useState(false);\n  const [likedCommentID, setLikedCommentID] = useState(null);\n  const permissions = sessionStorage.getItem(\"permissions\");\n\n  // gets comments based on the currently viewed question\n  useEffect(() => {\n    axios.get(`${apiUrl}/comments/` + queTitle).then(res => {\n      setComments(res.data);\n    }).catch(err => console.log(err));\n  }, [queTitle]);\n\n  // handles the liking of comments\n  const handleLike = async (commentID, commentLikes) => {\n    if (!isLiked) {\n      commentLikes = commentLikes + 1;\n      setIsLiked(true);\n      setLikedCommentID(commentID);\n      let payload = {\n        likes: commentLikes\n      };\n      axios.patch(`${apiUrl}/updateComment/` + commentID, payload).then(res => {\n        if (res) {\n          console.log(\"Like Updated \" + commentID);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else if (likedCommentID === commentID) {\n      commentLikes = commentLikes - 1;\n      setIsLiked(false);\n      setLikedCommentID(null);\n      let payload = {\n        likes: commentLikes\n      };\n      axios.patch(`${apiUrl}/updateComment/` + commentID, payload).then(res => {\n        if (res) {\n          console.log(\"Like Updated \" + commentID);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  };\n\n  // handles comment deletion\n  const handleDelete = async commentID => {\n    if (permissions === 'true') {\n      try {\n        await axios.delete(`${apiUrl}/deleteComment/` + commentID);\n        // Update the state or redirect to reflect the deletion\n        console.log(\"Comment deleted\");\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment\",\n    children: comments.map(comment => /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        marginLeft: \"12%\",\n        marginRight: \"12%\",\n        marginBottom: \"2%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        children: comment.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.cardLeft,\n          children: /*#__PURE__*/_jsxDEV(Figure, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: \"50px\",\n                  height: \"30px\"\n                },\n                onClick: () => handleLike(comment._id, comment.likes),\n                children: [/*#__PURE__*/_jsxDEV(Figure.Caption, {\n                  style: {\n                    display: \"inline\",\n                    padding: \"10px\"\n                  },\n                  children: comment.likes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Figure.Image, {\n                  style: {\n                    display: \"inline\"\n                  },\n                  alt: \"likes icon\",\n                  width: \"14px\",\n                  height: \"14px\",\n                  src: likedCommentID === comment._id ? LikedImage : LikeImage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.cardRight,\n          children: /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: comment.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this), permissions === 'true' && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: () => handleDelete(comment._id),\n          style: {\n            marginTop: \"2%\",\n            float: \"right\"\n          },\n          children: \"Delete Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n}\n_s(SingleComment, \"MZxbghK5KXPj5GFhH8TW3jEg5lE=\");\n_c = SingleComment;\nexport default SingleComment;\nvar _c;\n$RefreshReg$(_c, \"SingleComment\");","map":{"version":3,"names":["Card","Figure","LikeImage","LikedImage","useState","useEffect","axios","Button","styles","jsxDEV","_jsxDEV","SingleComment","_s","apiUrl","process","env","REACT_APP_API_URL","question","JSON","parse","sessionStorage","getItem","queTitle","title","comments","setComments","isLiked","setIsLiked","likedCommentID","setLikedCommentID","permissions","get","then","res","data","catch","err","console","log","handleLike","commentID","commentLikes","payload","likes","patch","error","handleDelete","delete","className","children","map","comment","style","marginLeft","marginRight","marginBottom","Header","name","fileName","_jsxFileName","lineNumber","columnNumber","Body","cardLeft","width","height","onClick","_id","Caption","display","padding","Image","alt","src","cardRight","Text","variant","marginTop","float","_c","$RefreshReg$"],"sources":["C:/Users/glend/Documents/DV200/KWARTAAL 4/Whirlpool/client/src/components/commentcard.js"],"sourcesContent":["import Card from 'react-bootstrap/Card';\r\nimport Figure from 'react-bootstrap/Figure';\r\nimport LikeImage from '../icons/thumbs-up.svg';\r\nimport LikedImage from '../icons/thumbs-up-fill.svg';\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from 'axios'\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport styles from '../pages/css/single.css'\r\n\r\nfunction SingleComment() {\r\n\r\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5001/api/';\r\n\r\n\r\n    const question = JSON.parse(sessionStorage.getItem(\"question\"));\r\n    const queTitle = question.title;\r\n    const [comments, setComments] = useState([]);\r\n    const [isLiked, setIsLiked] = useState(false);\r\n    const [likedCommentID, setLikedCommentID] = useState(null);\r\n    const permissions = sessionStorage.getItem(\"permissions\");\r\n\r\n    // gets comments based on the currently viewed question\r\n    useEffect(() => {\r\n        axios.get(`${apiUrl}/comments/` + queTitle)\r\n            .then((res) => {\r\n                setComments(res.data);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [queTitle]);\r\n\r\n    // handles the liking of comments\r\n    const handleLike = async (commentID, commentLikes) => {\r\n        if (!isLiked) {\r\n            commentLikes = commentLikes + 1\r\n            setIsLiked(true);\r\n            setLikedCommentID(commentID);\r\n\r\n            let payload = {\r\n                likes: commentLikes\r\n            };\r\n\r\n            axios.patch(`${apiUrl}/updateComment/` + commentID, payload)\r\n                .then(res => {\r\n                    if (res) {\r\n                        console.log(\"Like Updated \" + commentID);\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error);\r\n                });\r\n        } else if (likedCommentID === commentID) {\r\n            commentLikes = commentLikes - 1\r\n            setIsLiked(false);\r\n            setLikedCommentID(null);\r\n\r\n            let payload = {\r\n                likes: commentLikes\r\n            };\r\n\r\n            axios.patch(`${apiUrl}/updateComment/` + commentID, payload)\r\n                .then(res => {\r\n                    if (res) {\r\n                        console.log(\"Like Updated \" + commentID);\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error);\r\n                });\r\n        }\r\n    };\r\n\r\n    // handles comment deletion\r\n    const handleDelete = async (commentID) => {\r\n        if (permissions === 'true') {\r\n            try {\r\n                await axios.delete(`${apiUrl}/deleteComment/` + commentID);\r\n                // Update the state or redirect to reflect the deletion\r\n                console.log(\"Comment deleted\")\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"comment\">\r\n            {comments.map((comment) => (\r\n                <Card style={{ marginLeft: \"12%\", marginRight: \"12%\", marginBottom: \"2%\" }}>\r\n                    <Card.Header>{comment.name}</Card.Header>\r\n                    <Card.Body>\r\n                        <div className={styles.cardLeft}>\r\n                            <Figure>\r\n                                <div className=\"left\">\r\n                                    <div style={{ width: \"50px\", height: \"30px\" }} onClick={() => handleLike(comment._id, comment.likes)}>\r\n                                        <Figure.Caption style={{ display: \"inline\", padding: \"10px\" }}>{comment.likes}</Figure.Caption>\r\n                                        <Figure.Image style={{ display: \"inline\" }} alt=\"likes icon\" width=\"14px\" height=\"14px\" src={likedCommentID === comment._id ? LikedImage : LikeImage} />\r\n                                    </div>\r\n                                </div>\r\n                            </Figure>\r\n                        </div>\r\n                        <div className={styles.cardRight}>\r\n                            <Card.Text >\r\n                                {comment.comment}\r\n                            </Card.Text>\r\n                        </div>\r\n                        {permissions === 'true' && (\r\n                            <Button variant=\"danger\" onClick={() => handleDelete(comment._id)} style={{ marginTop: \"2%\", float: \"right\" }}>Delete Comment</Button>\r\n                        )}\r\n                    </Card.Body>\r\n                </Card >\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleComment;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}