{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/glend/Documents/DV200/KWARTAAL 4/Whirlpool/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/glend/Documents/DV200/KWARTAAL 4/Whirlpool/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/glend/Documents/DV200/KWARTAAL 4/Whirlpool/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Button from'react-bootstrap/Button';import Card from'react-bootstrap/Card';import Figure from'react-bootstrap/Figure';import VoteImage from'../icons/package.svg';import LikeImage from'../icons/thumbs-up.svg';import DislikeImage from'../icons/thumbs-down.svg';import{useState,useEffect}from\"react\";import axios from'axios';import styles from'../pages/css/single.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SingleQuestion(){var question=JSON.parse(sessionStorage.getItem('question'));var _useState=useState(),_useState2=_slicedToArray(_useState,2),wienerballs=_useState2[0],setWienerBalls=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),quePic=_useState4[0],setQuePic=_useState4[1];// handles question deleting\nvar handleDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete('http://localhost:5001/api/deleteQuestion/'+question.id);case 3:axios.delete('http://localhost:5001/api/deleteComments/'+question.title);sessionStorage.removeItem('question');console.log(\"question and all comments deleted\");window.location=\"/question\";_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function handleDelete(){return _ref.apply(this,arguments);};}();// gets the image of the question\nuseEffect(function(){axios.get('http://localhost:5001/api/singleQuestion/'+question.id).then(function(res){var data=res.data;setWienerBalls(data);console.log(JSON.stringify(data.image));setQuePic(\"http://localhost:5001/questionImages/\"+data.image);}).catch(function(err){return console.log(err);});},[question.id]);return/*#__PURE__*/_jsxs(Card,{style:{marginLeft:\"10%\",marginRight:\"10%\",marginTop:\"3%\"},children:[/*#__PURE__*/_jsx(Card.Header,{children:question.name}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.cardLeft,children:/*#__PURE__*/_jsxs(Figure,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(Figure.Caption,{style:{display:\"inline\",padding:\"5px\"},children:question.votes.likes}),/*#__PURE__*/_jsx(Figure.Image,{style:{display:\"inline\"},alt:\"votes icon\",width:\"20px\",height:\"20px\",src:VoteImage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(Figure.Caption,{style:{display:\"inline\",padding:\"5px\"},children:question.votes.total}),/*#__PURE__*/_jsx(Figure.Image,{style:{display:\"inline\"},alt:\"likes icon\",width:\"20px\",height:\"20px\",src:LikeImage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(Figure.Caption,{style:{display:\"inline\",padding:\"5px\"},children:question.votes.likes}),/*#__PURE__*/_jsx(Figure.Image,{style:{display:\"inline\"},alt:\"dislikes icon\",width:\"20px\",height:\"20px\",src:DislikeImage})]})]})}),sessionStorage.getItem('permissions')==='true'&&/*#__PURE__*/_jsx(Button,{variant:\"danger\",style:{marginTop:\"1%\",float:\"right\"},onClick:handleDelete,children:\"Delete Question\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.cardRight,children:[/*#__PURE__*/_jsx(Card.Title,{style:{fontWeight:\"bold\",fontSize:'30px'},children:question.title}),/*#__PURE__*/_jsx(Card.Text,{value:\"question description\",children:question.question}),/*#__PURE__*/_jsx(\"img\",{src:quePic,alt:\"question image\",style:{width:\"50%\",marginTop:\"2%\",marginLeft:\"25%\"}})]})]})]});}export default SingleQuestion;","map":{"version":3,"names":["Button","Card","Figure","VoteImage","LikeImage","DislikeImage","useState","useEffect","axios","styles","jsx","_jsx","jsxs","_jsxs","SingleQuestion","question","JSON","parse","sessionStorage","getItem","_useState","_useState2","_slicedToArray","wienerballs","setWienerBalls","_useState3","_useState4","quePic","setQuePic","handleDelete","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","delete","id","title","removeItem","console","log","window","location","t0","stop","apply","arguments","get","then","res","data","stringify","image","catch","err","style","marginLeft","marginRight","marginTop","children","Header","name","Body","className","cardLeft","Caption","display","padding","votes","likes","Image","alt","width","height","src","total","variant","float","onClick","cardRight","Title","fontWeight","fontSize","Text","value"],"sources":["C:/Users/glend/Documents/DV200/KWARTAAL 4/Whirlpool/client/src/components/questioncard.js"],"sourcesContent":["import Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Figure from 'react-bootstrap/Figure';\r\nimport VoteImage from '../icons/package.svg';\r\nimport LikeImage from '../icons/thumbs-up.svg';\r\nimport DislikeImage from '../icons/thumbs-down.svg';\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from 'axios'\r\n\r\nimport styles from '../pages/css/single.css'\r\n\r\nfunction SingleQuestion() {\r\n    const question = JSON.parse(sessionStorage.getItem('question'));\r\n    const [wienerballs, setWienerBalls] = useState();\r\n    const [quePic, setQuePic] = useState();\r\n\r\n    // handles question deleting\r\n    const handleDelete = async () => {\r\n        try {\r\n            await axios.delete('http://localhost:5001/api/deleteQuestion/' + question.id);\r\n            axios.delete('http://localhost:5001/api/deleteComments/' + question.title);\r\n            sessionStorage.removeItem('question')\r\n            console.log(\"question and all comments deleted\");\r\n            window.location = \"/question\";\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    // gets the image of the question\r\n    useEffect(() => {\r\n        axios.get('http://localhost:5001/api/singleQuestion/' + question.id)\r\n            .then(res => {\r\n                let data = res.data;\r\n                setWienerBalls(data);\r\n                console.log(JSON.stringify(data.image));\r\n\r\n                setQuePic(\"http://localhost:5001/questionImages/\" + data.image)\r\n\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [question.id])\r\n\r\n    return (\r\n        <Card style={{marginLeft: \"10%\", marginRight: \"10%\", marginTop: \"3%\"}}>\r\n            <Card.Header>{question.name}</Card.Header>\r\n            <Card.Body>\r\n                <div className={styles.cardLeft}>\r\n                    <Figure>\r\n                        <div className=\"left\">\r\n                            <Figure.Caption style={{ display: \"inline\", padding: \"5px\" }} >{question.votes.likes}</Figure.Caption>\r\n                            <Figure.Image style={{ display: \"inline\" }} alt=\"votes icon\" width=\"20px\" height=\"20px\" src={VoteImage} />\r\n                        </div>\r\n                        <div className=\"left\">\r\n                            <Figure.Caption style={{ display: \"inline\", padding: \"5px\" }}>{question.votes.total}</Figure.Caption>\r\n                            <Figure.Image style={{ display: \"inline\"}} alt=\"likes icon\" width=\"20px\" height=\"20px\" src={LikeImage} />\r\n                        </div>\r\n                        <div className=\"left\">\r\n                            <Figure.Caption style={{ display: \"inline\", padding: \"5px\" }} >{question.votes.likes}</Figure.Caption>\r\n                            <Figure.Image style={{ display: \"inline\" }} alt=\"dislikes icon\" width=\"20px\" height=\"20px\" src={DislikeImage} />\r\n                        </div>\r\n                    </Figure>\r\n                </div>\r\n                {sessionStorage.getItem('permissions') === 'true' && (\r\n                        <Button variant=\"danger\" style={{marginTop: \"1%\", float: \"right\"}} onClick={handleDelete}>Delete Question</Button>\r\n                    )}\r\n                <div className={styles.cardRight}>\r\n                    <Card.Title style={{fontWeight: \"bold\", fontSize: '30px'}}>{question.title}</Card.Title>\r\n                    <Card.Text value=\"question description\">\r\n                        {question.question}\r\n                    </Card.Text>\r\n                    {/* the image */}\r\n                    <img src={quePic} alt=\"question image\" style={{ width: \"50%\", marginTop: \"2%\", marginLeft: \"25%\" }} />\r\n                </div>\r\n            </Card.Body>\r\n\r\n\r\n        </Card >\r\n    );\r\n}\r\n\r\nexport default SingleQuestion;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}