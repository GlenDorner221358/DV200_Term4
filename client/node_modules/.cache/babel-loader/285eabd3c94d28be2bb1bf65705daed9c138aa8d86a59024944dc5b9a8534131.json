{"ast":null,"code":"import _slicedToArray from\"C:/Users/glend/Documents/DV200/KWARTAAL 4/Whirlpool/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Container from'react-bootstrap/Container';import Navbar from'react-bootstrap/Navbar';import Nav from'react-bootstrap/Nav';import Button from'react-bootstrap/esm/Button';import{useState,useEffect}from\"react\";import Axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BasicNav(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var user=sessionStorage.getItem(\"username\");useEffect(function(){Axios.get(\"http://localhost:5001/api/singleUser/\"+user,{headers:{\"x-auth-token\":localStorage.getItem(\"token\")}}).then(function(response){setFirstName(response.data.firstName);sessionStorage.setItem(\"firstName\",response.data.firstName);sessionStorage.setItem(\"permissions\",response.data.permissions);}).catch(function(error){console.log(error);});},[]);var handleLogout=function handleLogout(){localStorage.removeItem(\"token\");sessionStorage.removeItem('username');sessionStorage.removeItem('User');sessionStorage.removeItem('firstName');sessionStorage.removeItem('permissions');window.location=\"/\";};return/*#__PURE__*/_jsx(Navbar,{className:\"bg-body-warning\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",children:\"Whirlpool\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/landing\",children:\"Home\"}),/*#__PURE__*/_jsx(Nav.Link,{href:\"/question\",children:\"Questions\"}),user&&/*#__PURE__*/_jsx(Nav.Link,{href:\"/profile\",children:\"My Profile\"})]})}),/*#__PURE__*/_jsxs(Navbar.Collapse,{className:\"justify-content-end\",children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"/profile\",style:{marginRight:\"5%\"},children:firstName}),/*#__PURE__*/_jsx(Button,{variant:user?'danger':'primary',onClick:handleLogout,children:user?'Log out':'Log in'})]})]})});}export default BasicNav;","map":{"version":3,"names":["Container","Navbar","Nav","Button","useState","useEffect","Axios","jsx","_jsx","jsxs","_jsxs","BasicNav","_useState","_useState2","_slicedToArray","firstName","setFirstName","user","sessionStorage","getItem","get","headers","localStorage","then","response","data","setItem","permissions","catch","error","console","log","handleLogout","removeItem","window","location","className","children","Brand","href","Toggle","Collapse","id","Link","style","marginRight","variant","onClick"],"sources":["C:/Users/glend/Documents/DV200/KWARTAAL 4/Whirlpool/client/src/components/navbar.js"],"sourcesContent":["import Container from 'react-bootstrap/Container';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport { useState, useEffect } from \"react\";\r\nimport Axios from 'axios'\r\n\r\nfunction BasicNav() {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const user = sessionStorage.getItem(\"username\")\r\n\r\n  useEffect(() => {\r\n    Axios.get(\"http://localhost:5001/api/singleUser/\" + user, {\r\n      headers: {\r\n        \"x-auth-token\": localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((response) => {\r\n      setFirstName(response.data.firstName);\r\n      sessionStorage.setItem(\"firstName\", response.data.firstName);\r\n      sessionStorage.setItem(\"permissions\", response.data.permissions);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }, []);\r\n\r\n  const handleLogout = () =>{\r\n    localStorage.removeItem(\"token\")\r\n    sessionStorage.removeItem('username')\r\n    sessionStorage.removeItem('User')\r\n    sessionStorage.removeItem('firstName')\r\n    sessionStorage.removeItem('permissions')\r\n    window.location = \"/\";\r\n  }\r\n\r\n  return (\r\n    <Navbar className=\"bg-body-warning\">\r\n      <Container>\r\n        <Navbar.Brand href=\"/\">Whirlpool</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"me-auto\">\r\n            <Nav.Link href=\"/landing\">Home</Nav.Link>\r\n            <Nav.Link href=\"/question\">Questions</Nav.Link>\r\n            {user && <Nav.Link href=\"/profile\">My Profile</Nav.Link>}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n        <Navbar.Collapse className=\"justify-content-end\">\r\n          <Nav.Link href='/profile' style={{marginRight:\"5%\"}}>{firstName}</Nav.Link>\r\n          <Button variant={user ? 'danger' : 'primary'} onClick={handleLogout}>{user ? 'Log out' : 'Log in'}</Button>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nexport default BasicNav;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}